[{"C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\index.js":"1","C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\App.js":"2","C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\reportWebVitals.js":"3","C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\Navbar.js":"4","C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\AuthorityContext.js":"5","C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\View.js":"6","C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\Home.js":"7","C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\Profil.js":"8","C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\Editor.js":"9","C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\Login.js":"10","C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\Error403.js":"11","C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\Register.js":"12","C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\ConfirmPanel.js":"13","C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\svg icons\\BootstrapIcon.js":"14","C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\views\\UserView.js":"15","C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\views\\AdminView.js":"16","C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\views\\SuperAdminView.js":"17","C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\views\\GuestView.js":"18","C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\Users.js":"19","C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\Postavke.js":"20","C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\Inbox.js":"21","C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\Posts.js":"22","C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\Post.js":"23"},{"size":435,"mtime":1607607822802,"results":"24","hashOfConfig":"25"},{"size":506,"mtime":1612133280808,"results":"26","hashOfConfig":"25"},{"size":362,"mtime":1606847084564,"results":"27","hashOfConfig":"25"},{"size":7220,"mtime":1613771822903,"results":"28","hashOfConfig":"25"},{"size":1391,"mtime":1613772810318,"results":"29","hashOfConfig":"25"},{"size":601,"mtime":1612875709005,"results":"30","hashOfConfig":"25"},{"size":8832,"mtime":1608335158106,"results":"31","hashOfConfig":"25"},{"size":2998,"mtime":1613763819931,"results":"32","hashOfConfig":"25"},{"size":9195,"mtime":1613776878683,"results":"33","hashOfConfig":"25"},{"size":6498,"mtime":1613827793515,"results":"34","hashOfConfig":"25"},{"size":1099,"mtime":1613766002465,"results":"35","hashOfConfig":"25"},{"size":13126,"mtime":1613823524701,"results":"36","hashOfConfig":"25"},{"size":1387,"mtime":1613763347996,"results":"37","hashOfConfig":"25"},{"size":13723,"mtime":1613828625293,"results":"38","hashOfConfig":"25"},{"size":1962,"mtime":1613763920189,"results":"39","hashOfConfig":"25"},{"size":2085,"mtime":1613763902162,"results":"40","hashOfConfig":"25"},{"size":2095,"mtime":1613763913614,"results":"41","hashOfConfig":"25"},{"size":766,"mtime":1613754247945,"results":"42","hashOfConfig":"25"},{"size":4131,"mtime":1613763887178,"results":"43","hashOfConfig":"25"},{"size":12955,"mtime":1613763783058,"results":"44","hashOfConfig":"25"},{"size":20795,"mtime":1613829717106,"results":"45","hashOfConfig":"25"},{"size":3172,"mtime":1613776891690,"results":"46","hashOfConfig":"25"},{"size":2986,"mtime":1613764606530,"results":"47","hashOfConfig":"25"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},"1vovu6",{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"57","usedDeprecatedRules":"50"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"68","usedDeprecatedRules":"50"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"73","usedDeprecatedRules":"50"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"78","usedDeprecatedRules":"50"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"91","usedDeprecatedRules":"50"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"96","messages":"97","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"98","usedDeprecatedRules":"50"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"101","usedDeprecatedRules":"50"},"C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\index.js",[],["102","103"],"C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\App.js",[],"C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\reportWebVitals.js",[],"C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\Navbar.js",["104"],"import { useContext, useState, useEffect } from 'react';\r\nimport { Dropdown, Nav } from 'react-bootstrap';\r\nimport { NavLink, BrowserRouter, Route, Redirect, Switch } from 'react-router-dom';\r\nimport Axios from 'axios';\r\nimport BootstrapIcon from '../svg icons/BootstrapIcon';\r\nimport Inbox from './Inbox';\r\nimport Editor from './Editor';\r\nimport Home from './Home';\r\nimport Login from './Login';\r\nimport Profil from './Profil';\r\nimport Register from './Register';\r\nimport Users from './Users';\r\nimport View from './View';\r\nimport { AuthorityContext } from './AuthorityContext';\r\nimport Error403 from './Error403';\r\nimport ConfirmPanel from './ConfirmPanel';\r\nimport Postavke from './Postavke';\r\nimport Posts from './Posts';\r\nimport Post from './Post';\r\n\r\nconst Navbar = () => {\r\n    // eslint-disable-next-line\r\n    const [userList, setUserList, currentUser, setCurrentUser] = useContext(AuthorityContext);\r\n    Axios.defaults.withCredentials = true;\r\n    let url = 'https://rt-foto-editor.herokuapp.com';\r\n    //let url = 'http://localhost:3001';\r\n\r\n    const [legalRoute, setLegalRoute] = useState(true);\r\n\r\n    useEffect(() => {\r\n        if (currentUser.loaded) {\r\n            checkLegalRoute().then(function (message) {\r\n                console.log(message);\r\n            })\r\n        }\r\n        // eslint-disable-next-line\r\n    }, [currentUser]);\r\n\r\n    //The set of functions that I want to call in order\r\n    function initialSet() {\r\n        var legalRouteList = [];\r\n        if (currentUser.loggedIn) {\r\n            switch (currentUser.authority) {\r\n                case 'user':\r\n                    legalRouteList = ['/home', '/posts', '/editor', '/login', '/register', '/inbox', '/profil', '/postavke'];\r\n                    break;\r\n                case 'admin':\r\n                    legalRouteList = ['/home', '/posts', '/editor', '/login', '/register', '/inbox', '/profil', '/postavke', '/users'];\r\n                    break;\r\n                case 'super-admin':\r\n                    legalRouteList = ['/home', '/posts', '/editor', '/login', '/register', '/inbox', '/profil', '/postavke', '/users', '/database'];\r\n                    break;\r\n                default:\r\n                    legalRouteList = ['/home', '/editor', '/login', '/register'];\r\n                    break;\r\n            }\r\n\r\n        }\r\n        else {\r\n            legalRouteList = ['/home', '/editor', '/login', '/register'];\r\n        }\r\n        return new Promise(function (resolve, reject) {\r\n            resolve(legalRouteList)\r\n        })\r\n    }\r\n\r\n    function setRealValues(legalRouteList) {\r\n        var flag = true;\r\n        for (var i = 0; i < legalRouteList.length; i++) {\r\n            if (window.location.pathname === legalRouteList[i] || window.location.pathname.startsWith('/posts/')) {\r\n                flag = false;\r\n                setLegalRoute(true);\r\n                return new Promise(function (resolve, reject) {\r\n                    resolve(flag)\r\n                })\r\n            }\r\n        }\r\n        return new Promise(function (resolve, reject) {\r\n            resolve(flag)\r\n        })\r\n    }\r\n\r\n    function validate(flag) {\r\n        var message = 'no redirect';\r\n        if (flag) {\r\n            setLegalRoute(false);\r\n            message = 'redirecting';\r\n        }\r\n        return new Promise(function (resolve, reject) {\r\n            resolve(message);\r\n        })\r\n    }\r\n\r\n\r\n    function checkLegalRoute() {\r\n        return initialSet()\r\n            .then(setRealValues)\r\n            .then(validate)\r\n    }\r\n\r\n    function redirectReload(redirectPath) {\r\n        window.history.pushState({}, '', redirectPath);\r\n        return new Promise(function (resolve, reject) {\r\n            resolve();\r\n        })\r\n    }\r\n\r\n\r\n    function logout() {\r\n        Axios.get(url + '/logout').then((response) => {\r\n            redirectReload('/login').then((response) => {\r\n                //window.location.reload();\r\n            });\r\n            setLegalRoute(true);\r\n            setCurrentUser(response.data);\r\n        })\r\n    }\r\n\r\n    return (\r\n        <BrowserRouter>\r\n            <div className=\"blog-masthead break\">\r\n                <div className=\"container break\">\r\n                    <Nav className=\"d-flex justify-content-center row\">\r\n\r\n                        <View authority={currentUser.authority} />\r\n                        {currentUser.loggedIn\r\n                            ? <Dropdown className=\"dropdown open\">\r\n                                <Dropdown.Toggle className=\"btn btn-secondary dropdown-toggle\" type=\"button\" id=\"dropdownMenu1\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                                    <BootstrapIcon type={5} />\r\n                                </Dropdown.Toggle>\r\n                                <Dropdown.Menu className=\"dropdown-menu dropdown-menu-right\" aria-labelledby=\"dropdownMenu1\">\r\n                                    <NavLink className=\"item-link dropdown-item\" to=\"/profil\"><BootstrapIcon type={6} /> Profil</NavLink>\r\n\r\n                                    <Dropdown.Divider className=\"dropdown-divider\"></Dropdown.Divider>\r\n                                    <NavLink to=\"/postavke\" className=\"item-link dropdown-item\"><BootstrapIcon type={7} /> Postavke</NavLink>\r\n\r\n                                    <Dropdown.Divider className=\"dropdown-divider\"></Dropdown.Divider>\r\n                                    <NavLink to=\"/login\" onClick={logout} className=\"item-link dropdown-item\"><BootstrapIcon type={8} /> Log Out</NavLink>\r\n\r\n                                </Dropdown.Menu>\r\n                            </Dropdown>\r\n\r\n                            : null\r\n                        }\r\n\r\n                    </Nav>\r\n                </div>\r\n            </div>\r\n            <div>\r\n                {window.location.pathname === '/' ? <Redirect to='/home' /> : null}\r\n                {legalRoute\r\n                    ? <div>\r\n                        {(currentUser.verified === 'no') ? <ConfirmPanel /> : ''}\r\n                        <Switch>\r\n                            <Route path='/home' component={Home}></Route>\r\n                            <Route exact path='/posts' component={Posts}></Route>\r\n                            <Route path='/posts/:id' render={(props) => <Post {...props} />}></Route>\r\n                            <Route path='/editor' component={Editor}></Route>\r\n                            <Route path='/users' component={Users}></Route>\r\n                            <Route path='/login' component={Login}></Route>\r\n                            <Route path='/register' component={Register}></Route>\r\n                            <Route path='/inbox' component={Inbox}></Route>\r\n                            <Route path='/profil' component={Profil}></Route>\r\n                            <Route path='/postavke' component={Postavke}></Route>\r\n                        </Switch>\r\n                    </div>\r\n                    : <Error403 path={window.location.pathname} />}\r\n                {currentUser.loggedIn && (window.location.pathname === '/login' || window.location.pathname === '/register') ? <Redirect to='/home' /> : null}\r\n            </div>\r\n        </BrowserRouter>\r\n    );\r\n}\r\n\r\nexport default Navbar;","C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\AuthorityContext.js",[],"C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\View.js",[],"C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\Home.js",[],"C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\Profil.js",[],"C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\Editor.js",["105","106"],"import { Form, Row } from 'react-bootstrap';\r\nimport { useState, useEffect, useContext } from 'react';\r\nimport Axios from 'axios';\r\nimport { AuthorityContext } from './AuthorityContext';\r\nimport { checkText } from 'smile2emoji';\r\nimport { Dropdown, DropdownButton } from 'react-bootstrap';\r\n\r\nconst Editor = (props) => {\r\n    // eslint-disable-next-line\r\n    const [userList, setUserList, currentUser, setCurrentUser] = useContext(AuthorityContext);\r\n    Axios.defaults.withCredentials = true;\r\n    let url = 'https://rt-foto-editor.herokuapp.com';\r\n    //let url = 'http://localhost:3001';\r\n\r\n    const [fileInputState, setFileInputState] = useState('');\r\n    const [previewSource, setPreviewSource] = useState('');\r\n    const [description, setDescription] = useState('');\r\n    const [postView, setPostView] = useState('Public');\r\n    const [isLoading, setIsLoading] = useState(false);\r\n\r\n    const handleFileInputChange = (e) => {\r\n        const file = e.target.files[0];\r\n        if (file && file.type.match('image.*')) {\r\n            previewFile(file);\r\n            setFileInputState(e.target.value);\r\n        }\r\n        else {\r\n            setFileInputState('');\r\n            setPreviewSource('');\r\n        }\r\n    }\r\n\r\n    const previewFile = (file) => {\r\n        const reader = new FileReader();\r\n        reader.readAsDataURL(file);\r\n        reader.onloadend = () => {\r\n            setPreviewSource(reader.result);\r\n        }\r\n    }\r\n\r\n    const postFile = (e) => {\r\n        console.log('submitting');\r\n        e.preventDefault();\r\n        if (!previewSource) return;\r\n        postImage(previewSource);\r\n    }\r\n\r\n    const postImage = (base64EncodedImage) => {\r\n        var tempDescription = description;\r\n        var tempPostView = postView;\r\n        setFileInputState('');\r\n        setPreviewSource('');\r\n        setDescription('');\r\n        setPostView('Public');\r\n        setIsLoading(true);\r\n        if (document.getElementById('fileUploadForm')) document.getElementById('fileUploadForm').reset();\r\n        Axios.post(url + '/image/upload/post', {\r\n            data: base64EncodedImage,\r\n            userID: currentUser.id,\r\n            description: tempDescription,\r\n            view: tempPostView\r\n        }).then((response) => {\r\n            console.log(response.data.id);\r\n            setIsLoading(false);\r\n            props.history.push('/posts');\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"blog-header\">\r\n                <div className=\"container btrans\">\r\n                    <h1 className=\"text-center\"><strong>Foto Editor</strong></h1>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"container\">\r\n\r\n                <div className=\"row\">\r\n\r\n                    <div className=\"col-sm-12 blog-main\">\r\n\r\n                        <div className=\"blog-post\">\r\n                            <Form acceptCharset=\"UTF-8\" onSubmit={postFile} id=\"fileUploadForm\">\r\n                                <Form.Group>\r\n                                    <Form.File accept=\"image/x-png,image/gif,image/jpeg\" value={fileInputState} onChange={handleFileInputChange} className=\"fileUpload\" id=\"fileUploadID\" name=\"image\" label=\"Upload photo\" />\r\n                                </Form.Group>\r\n\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-1 holder-buttons\">\r\n                                        <button type=\"button\" name=\"button\" className=\"edit-button\"></button>\r\n                                        <button type=\"button\" name=\"button\" className=\"edit-button\"></button>\r\n                                        <button type=\"button\" name=\"button\" className=\"edit-button\"></button>\r\n                                        <button type=\"button\" name=\"button\" className=\"edit-button\"></button>\r\n                                        <button type=\"button\" name=\"button\" className=\"edit-button\"></button>\r\n                                        <button type=\"button\" name=\"button\" className=\"edit-button\"></button>\r\n                                        <button type=\"button\" name=\"button\" className=\"edit-button\"></button>\r\n                                        <button type=\"button\" name=\"button\" className=\"edit-button\"></button>\r\n                                    </div>\r\n                                    <div className=\"col-6 placeholder\">\r\n                                        {isLoading ?\r\n                                            <div className=\"lds-spinner\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>\r\n                                            : previewSource ?\r\n                                                <img src={previewSource} alt=\"selected file\" className=\"previewSource\" />\r\n                                                : null\r\n                                        }\r\n                                    </div>\r\n                                    <div className=\"col-4 holder-sliders\">\r\n                                        <div className=\"d-flex justify-content-center my-4\">\r\n                                            <span className=\"mr-2 mt-0 white-text\">0</span>\r\n                                            <form className=\"range-field w-100\">\r\n                                                <input className=\"border-0 slider\" type=\"range\" min=\"0\" max=\"255\" />\r\n                                            </form>\r\n                                            <span className=\"ml-2 mt-0 white-text\">255</span>\r\n                                        </div>\r\n\r\n                                        <div className=\"d-flex justify-content-center my-4\">\r\n                                            <span className=\"mr-2 mt-0 white-text\">0</span>\r\n                                            <form className=\"range-field w-100\">\r\n                                                <input className=\"border-0 slider\" type=\"range\" min=\"0\" max=\"255\" />\r\n                                            </form>\r\n                                            <span className=\"ml-2 mt-0 white-text\">255</span>\r\n                                        </div>\r\n\r\n                                        <div className=\"d-flex justify-content-center my-4\">\r\n                                            <span className=\"mr-2 mt-0 white-text\">0</span>\r\n                                            <form className=\"range-field w-100\">\r\n                                                <input className=\"border-0 slider\" type=\"range\" min=\"0\" max=\"255\" />\r\n                                            </form>\r\n                                            <span className=\"ml-2 mt-0 white-text\">255</span>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                </div>\r\n                                <hr className=\"round\" />\r\n                                {(currentUser.loggedIn && currentUser.verified === 'verified') ?\r\n                                    <div>\r\n                                        <Form.Group controlId=\"newPostDescription\">\r\n                                            <Form.Label>Description</Form.Label>\r\n                                            <Form.Control autoComplete=\"off\" as=\"textarea\" rows={5} onChange={(e) => { setDescription(checkText(e.target.value)); document.getElementById('newPostDescription').value = checkText(e.target.value); }} />\r\n                                        </Form.Group>\r\n                                        <Form.Group className=\"postButtonHolder\">\r\n                                            <button type=\"submit\" name=\"button\" className=\"genericButton\">Post</button>\r\n                                        </Form.Group>\r\n                                        <DropdownButton className=\"changePostView\" title={postView}>\r\n                                            <Dropdown.Item onSelect={() => { setPostView('Public') }}>Public</Dropdown.Item>\r\n                                            <Dropdown.Item onSelect={() => { setPostView('Friends') }} >Friends</Dropdown.Item>\r\n                                            <Dropdown.Item onSelect={() => { setPostView('Private') }} >Private</Dropdown.Item>\r\n                                        </DropdownButton>\r\n                                    </div>\r\n                                    : null\r\n                                }\r\n                            </Form>\r\n                            <hr className=\"round\" />\r\n                        </div>\r\n\r\n\r\n\r\n\r\n                        <div className=\"blog-post\">\r\n                            <h5 className=\"w\">Link Vizije</h5>\r\n                            <p className=\"blog-post-meta\">Zadnje a≈æurirano 8. studenog 2020. <strong> <a className=\"alink\" href=\"https://docs.google.com/document/d/141DHijMdyPfeffnDDo_hYwJRKfGQT5NC6UDfMsEDl3Y/edit?usp=sharing\" target=\"_blank\" rel=\"noreferrer\">Vizija</a> </strong></p>\r\n                        </div>\r\n\r\n\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Editor;","C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\Login.js",[],"C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\Error403.js",["107"],"import { useContext, useEffect, useState } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { AuthorityContext } from './AuthorityContext';\r\n\r\nconst Error403 = (props) => {\r\n    // eslint-disable-next-line\r\n    const [userList, setUserList, currentUser, setCurrentUser] = useContext(AuthorityContext);\r\n    const [counter, setCounter] = useState(3);\r\n\r\n    useEffect(() => {\r\n        const timer =\r\n            counter > 0 && setInterval(() => setCounter(counter - 1), 1000);\r\n        return () => clearInterval(timer);\r\n    }, [counter]);\r\n\r\n    useEffect(() => {\r\n        if (counter <= 0) {\r\n            props.history.push(currentUser.loggedIn ? '/home' : '/login');\r\n            window.location.reload();\r\n        }\r\n    }, [counter]);\r\n    return (\r\n        <div className=\"d-flex justify-content-center\">\r\n            <div>\r\n                <h1>Error 403</h1>\r\n                <p>You do not have access to that page.</p>\r\n                <p>Redirecting to home page in {counter}...</p>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default withRouter(Error403);","C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\Register.js",[],"C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\ConfirmPanel.js",["108","109","110","111"],"import { useState, useContext, useEffect } from 'react';\r\nimport Axios from 'axios';\r\nimport { AuthorityContext } from './AuthorityContext';\r\n\r\nconst ConfirmPanel = () => {\r\n\r\n    const [userList, setUserList, currentUser, setCurrentUser] = useContext(AuthorityContext);\r\n    Axios.defaults.withCredentials = true;\r\n    let url = 'https://rt-foto-editor.herokuapp.com';\r\n    let id = currentUser.id;\r\n    let email = currentUser.email;\r\n    const [sent, setSent] = useState(false);\r\n\r\n    function resendEmail() {\r\n        Axios.post(url + '/confirmation/send', {\r\n            id: id,\r\n            email: email\r\n        }).then(() => {\r\n            setSent(true);\r\n        });\r\n    }\r\n\r\n    return (\r\n        <div className=\"blog-header no-border no-margin\">\r\n            <div className=\"container btrans no-padding\">\r\n                <h4 className=\"text-center text-white\"><strong>Please confirm your email</strong></h4>\r\n                <h6 className=\"text-center\">\r\n                    {sent ? <strong><br></br> Check your email</strong>\r\n                        : <div>\r\n                            <strong>Didn't recieve an email?</strong>\r\n                            <button className=\"resendButton\" onClick={resendEmail}>Resend email</button>\r\n                        </div>}\r\n                </h6>\r\n\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ConfirmPanel;","C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\svg icons\\BootstrapIcon.js",[],"C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\views\\UserView.js",[],"C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\views\\AdminView.js",[],"C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\views\\SuperAdminView.js",[],"C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\views\\GuestView.js",[],"C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\Users.js",["112","113"],"import { useState, useContext, useEffect } from 'react';\r\nimport Axios from 'axios';\r\nimport { AuthorityContext } from './AuthorityContext';\r\nimport PROFILEICON from '../images/profile-icon.png';\r\nimport BootstrapIcon from '../svg icons/BootstrapIcon';\r\nimport { Dropdown, DropdownButton } from 'react-bootstrap';\r\n\r\nconst Users = () => {\r\n    const [userList, setUserList, currentUser, setCurrentUser] = useContext(AuthorityContext);\r\n    Axios.defaults.withCredentials = true;\r\n    let url = 'https://rt-foto-editor.herokuapp.com';\r\n\r\n    useEffect(() => {\r\n        Axios.get(url + '/users').then((response) => {\r\n            setUserList([...response.data]);\r\n        });\r\n        // eslint-disable-next-line\r\n    }, []);\r\n\r\n    function removeUser(userID) {\r\n        Axios.delete(url + '/remove-user', { data: { userID: userID } }).then((response) => {\r\n            console.log(response);\r\n            Axios.get(url + '/users').then((response) => {\r\n                setUserList([...response.data]);\r\n            });\r\n        });\r\n    }\r\n\r\n    function changeRole(newRole, userID) {\r\n        Axios.put(url + '/update-role', { data: { userID: userID, newRole: newRole } }).then((response) => {\r\n            console.log(response);\r\n            Axios.get(url + '/users').then((response) => {\r\n                setUserList([...response.data]);\r\n            });\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {\r\n                userList.map(user => {\r\n                    return (\r\n                        <div className=\"user-card btrans\" key={user.id}>\r\n                            <div className=\"profile-border display-inline\">\r\n                                <img alt=\"\" src={PROFILEICON} className=\"profile-icon\" />\r\n                            </div>\r\n                            <div className=\"profile-text display-inline\">\r\n                                <p>Username: {user.displayname}\r\n                                    <br />Email: {user.email}\r\n                                    <br />Role: [{user.authority}] <BootstrapIcon type={user.verified === 'verified' ? 18 : 19} />{user.verified === 'verified' ? 'verified' : 'not verified'}\r\n                                    <br />ID: {user.id}\r\n                                </p>\r\n                            </div>\r\n                            {currentUser.authority === 'super-admin'\r\n                                ? <div className=\"profile-buttons\">\r\n                                    {(user.authority === 'super-admin') ? null : <button onClick={() => { removeUser(user.id) }}>Remove</button>}\r\n                                    {(user.authority === 'super-admin') ? null\r\n                                        : <DropdownButton id={\"dropdown-basic-button\" + user.id} className=\"change-role\" title=\"Change Role\">\r\n                                            <Dropdown.Item disabled={user.authority === 'user'} onSelect={() => { changeRole('user', user.id) }}>User</Dropdown.Item>\r\n                                            <Dropdown.Item disabled={user.authority === 'admin'} onSelect={() => { changeRole('admin', user.id) }} >Admin</Dropdown.Item>\r\n                                        </DropdownButton>\r\n                                    }\r\n                                    {(user.authority === 'super-admin') ? null : <button>Block Posts</button>}\r\n                                    <button>Send Message</button>\r\n                                </div>\r\n                                : <div className=\"profile-buttons\">\r\n                                    {(user.authority === 'admin' || user.authority === 'super-admin') ? null : <button onClick={() => { removeUser(user.id) }}>Remove</button>}\r\n                                    {(user.authority === 'admin' || user.authority === 'super-admin') ? null : <button>Block Posts</button>}\r\n                                    <button>Send Message</button>\r\n                                </div>\r\n                            }\r\n\r\n                        </div>\r\n                    )\r\n                })\r\n            }\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Users;","C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\Postavke.js",[],"C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\Inbox.js",["114","115","116","117"],"C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\Posts.js",["118"],"import { useState, useEffect, useContext } from 'react';\r\nimport Axios from 'axios';\r\nimport { Image } from 'cloudinary-react';\r\nimport { AuthorityContext } from './AuthorityContext';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Posts = () => {\r\n    // eslint-disable-next-line\r\n    const [userList, setUserList, currentUser, setCurrentUser] = useContext(AuthorityContext);\r\n    Axios.defaults.withCredentials = true;\r\n    let url = 'https://rt-foto-editor.herokuapp.com';\r\n    //let url = 'http://localhost:3001';\r\n\r\n    const [posts, setPosts] = useState();\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const loadImages = () => {\r\n        Axios.get(url + '/posts/public').then((response) => {\r\n            console.log(response);\r\n            setPosts(response.data.sort(function(a,b){\r\n                return b.id - a.id;\r\n            }));\r\n            setIsLoading(false);\r\n        });\r\n    };\r\n    useEffect(() => {\r\n        loadImages();\r\n    }, [currentUser]);\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"blog-header\">\r\n                <div className=\"container btrans\">\r\n                    <h1 className=\"text-center\"><strong> Posts</strong></h1>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"container\">\r\n\r\n                <div className=\"row\">\r\n\r\n                    <div className=\"col-sm-12 blog-main\">\r\n\r\n                        <div className=\"blog-post Posts\">\r\n                            <hr className=\"round\" />\r\n                            <div className=\"centeredContainer\">\r\n                                {isLoading ?\r\n                                    <div className=\"lds-spinner\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>\r\n                                    : posts ?\r\n                                        posts.map((post) => (\r\n                                            <div className=\"postContainer\" key={post.id}>\r\n                                                <p>{post.displayname}</p>\r\n                                                <NavLink to={'/posts/' + post.id} className=\"postThumbnailContainer\">\r\n                                                    <Image\r\n                                                        cloudName={'rt-foto-editor'}\r\n                                                        publicId={post.public_id}\r\n                                                        width=\"300\"\r\n                                                        crop=\"scale\"\r\n                                                        className=\"postThumbnailImage\"\r\n                                                    />\r\n                                                </NavLink>\r\n                                            </div>\r\n                                        ))\r\n                                        : null}\r\n                            </div>\r\n                            <hr className=\"round\" />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Posts;","C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\Post.js",["119","120","121"],"import { useState, useEffect, useContext } from 'react';\r\nimport Axios from 'axios';\r\nimport { Image } from 'cloudinary-react';\r\nimport { AuthorityContext } from './AuthorityContext';\r\nimport { Redirect } from 'react-router';\r\nimport Error403 from './Error403';\r\n\r\nconst Post = (props) => {\r\n    // eslint-disable-next-line\r\n    const [userList, setUserList, currentUser, setCurrentUser] = useContext(AuthorityContext);\r\n    Axios.defaults.withCredentials = true;\r\n    let url = 'https://rt-foto-editor.herokuapp.com';\r\n    //let url = 'http://localhost:3001';\r\n\r\n    const [post, setPost] = useState();\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const loadPost = () => {\r\n        if (currentUser.loggedIn) {\r\n            Axios.get(url + '/posts/' + props.match.params.id).then((response) => {\r\n                console.log(response);\r\n                setPost(response.data[0]);\r\n                setIsLoading(false);\r\n            });\r\n        }\r\n    };\r\n    useEffect(() => {\r\n        console.log(currentUser.loggedIn);\r\n        loadPost();\r\n    }, [currentUser]);\r\n\r\n    return (\r\n\r\n        <div className=\"container\">\r\n\r\n            <div className=\"row\">\r\n\r\n                <div className=\"col-sm-12 blog-main\">\r\n\r\n                    <div className=\"blog-post PostLarge\">\r\n                        {isLoading ?\r\n                            <div className=\"lds-spinner\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>\r\n                            : (post && post.view === 'public') ?\r\n                                <div className=\"postLargeContainer\">\r\n                                    <div className=\"postHeader\">\r\n                                        <p className=\"timestamp\">{post.date.substr(8, 2) + '/' + post.date.substr(5, 2) + '/' + post.date.substr(0, 4)} {post.time}</p>\r\n                                        <p>Posted by: {post.displayname}<br />[{post.view}]</p>\r\n                                    </div>\r\n                                    <div className=\"postPhotoContainer\">\r\n                                        <Image\r\n                                            cloudName={'rt-foto-editor'}\r\n                                            publicId={post.public_id}\r\n                                            width=\"500\"\r\n                                            crop=\"scale\"\r\n                                            className=\"postImage\"\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"postDescription\">\r\n                                        <p>{post.description}</p>\r\n                                    </div>\r\n                                </div>\r\n                                : null\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Post;",{"ruleId":"122","replacedBy":"123"},{"ruleId":"124","replacedBy":"125"},{"ruleId":"126","severity":1,"message":"127","line":73,"column":36,"nodeType":"128","messageId":"129","endLine":75,"endColumn":18},{"ruleId":"130","severity":1,"message":"131","line":1,"column":16,"nodeType":"132","messageId":"133","endLine":1,"endColumn":19},{"ruleId":"130","severity":1,"message":"134","line":2,"column":20,"nodeType":"132","messageId":"133","endLine":2,"endColumn":29},{"ruleId":"135","severity":1,"message":"136","line":21,"column":8,"nodeType":"137","endLine":21,"endColumn":17,"suggestions":"138"},{"ruleId":"130","severity":1,"message":"134","line":1,"column":32,"nodeType":"132","messageId":"133","endLine":1,"endColumn":41},{"ruleId":"130","severity":1,"message":"139","line":7,"column":12,"nodeType":"132","messageId":"133","endLine":7,"endColumn":20},{"ruleId":"130","severity":1,"message":"140","line":7,"column":22,"nodeType":"132","messageId":"133","endLine":7,"endColumn":33},{"ruleId":"130","severity":1,"message":"141","line":7,"column":48,"nodeType":"132","messageId":"133","endLine":7,"endColumn":62},{"ruleId":"130","severity":1,"message":"142","line":1,"column":10,"nodeType":"132","messageId":"133","endLine":1,"endColumn":18},{"ruleId":"130","severity":1,"message":"141","line":9,"column":48,"nodeType":"132","messageId":"133","endLine":9,"endColumn":62},{"ruleId":"130","severity":1,"message":"143","line":129,"column":14,"nodeType":"132","messageId":"133","endLine":129,"endColumn":24},{"ruleId":"130","severity":1,"message":"144","line":135,"column":14,"nodeType":"132","messageId":"133","endLine":135,"endColumn":27},{"ruleId":"130","severity":1,"message":"145","line":142,"column":14,"nodeType":"132","messageId":"133","endLine":142,"endColumn":31},{"ruleId":"130","severity":1,"message":"146","line":149,"column":14,"nodeType":"132","messageId":"133","endLine":149,"endColumn":27},{"ruleId":"135","severity":1,"message":"147","line":27,"column":8,"nodeType":"137","endLine":27,"endColumn":21,"suggestions":"148"},{"ruleId":"130","severity":1,"message":"149","line":5,"column":10,"nodeType":"132","messageId":"133","endLine":5,"endColumn":18},{"ruleId":"130","severity":1,"message":"150","line":6,"column":8,"nodeType":"132","messageId":"133","endLine":6,"endColumn":16},{"ruleId":"135","severity":1,"message":"151","line":29,"column":8,"nodeType":"137","endLine":29,"endColumn":21,"suggestions":"152"},"no-native-reassign",["153"],"no-negated-in-lhs",["154"],"no-loop-func","Function declared in a loop contains unsafe references to variable(s) 'flag'.","FunctionExpression","unsafeRefs","no-unused-vars","'Row' is defined but never used.","Identifier","unusedVar","'useEffect' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'currentUser.loggedIn' and 'props.history'. Either include them or remove the dependency array.","ArrayExpression",["155"],"'userList' is assigned a value but never used.","'setUserList' is assigned a value but never used.","'setCurrentUser' is assigned a value but never used.","'useState' is defined but never used.","'replyFocus' is defined but never used.","'deleteMessage' is defined but never used.","'deleteAllRecieved' is defined but never used.","'deleteAllSent' is defined but never used.","React Hook useEffect has a missing dependency: 'loadImages'. Either include it or remove the dependency array.",["156"],"'Redirect' is defined but never used.","'Error403' is defined but never used.","React Hook useEffect has a missing dependency: 'loadPost'. Either include it or remove the dependency array.",["157"],"no-global-assign","no-unsafe-negation",{"desc":"158","fix":"159"},{"desc":"160","fix":"161"},{"desc":"162","fix":"163"},"Update the dependencies array to be: [counter, currentUser.loggedIn, props.history]",{"range":"164","text":"165"},"Update the dependencies array to be: [currentUser, loadImages]",{"range":"166","text":"167"},"Update the dependencies array to be: [currentUser, loadPost]",{"range":"168","text":"169"},[749,758],"[counter, currentUser.loggedIn, props.history]",[975,988],"[currentUser, loadImages]",[1065,1078],"[currentUser, loadPost]"]