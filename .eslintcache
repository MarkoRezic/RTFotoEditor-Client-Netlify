[{"C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\index.js":"1","C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\App.js":"2","C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\reportWebVitals.js":"3","C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\Navbar.js":"4","C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\AuthorityContext.js":"5","C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\View.js":"6","C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\Home.js":"7","C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\Profil.js":"8","C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\Editor.js":"9","C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\Login.js":"10","C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\Error403.js":"11","C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\Register.js":"12","C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\ConfirmPanel.js":"13","C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\svg icons\\BootstrapIcon.js":"14","C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\views\\UserView.js":"15","C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\views\\AdminView.js":"16","C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\views\\SuperAdminView.js":"17","C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\views\\GuestView.js":"18","C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\Users.js":"19","C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\Postavke.js":"20","C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\Inbox.js":"21","C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\Posts.js":"22","C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\Post.js":"23","C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\Profil_ID.js":"24"},{"size":435,"mtime":1607607822802,"results":"25","hashOfConfig":"26"},{"size":506,"mtime":1612133280808,"results":"27","hashOfConfig":"26"},{"size":362,"mtime":1606847084564,"results":"28","hashOfConfig":"26"},{"size":7332,"mtime":1615409137954,"results":"29","hashOfConfig":"26"},{"size":1299,"mtime":1615409833787,"results":"30","hashOfConfig":"26"},{"size":601,"mtime":1615409247563,"results":"31","hashOfConfig":"26"},{"size":8832,"mtime":1615409039507,"results":"32","hashOfConfig":"26"},{"size":6609,"mtime":1615409198218,"results":"33","hashOfConfig":"26"},{"size":126197,"mtime":1615408999656,"results":"34","hashOfConfig":"26"},{"size":6258,"mtime":1615409117995,"results":"35","hashOfConfig":"26"},{"size":1102,"mtime":1615409024772,"results":"36","hashOfConfig":"26"},{"size":13187,"mtime":1615409209274,"results":"37","hashOfConfig":"26"},{"size":1374,"mtime":1615408924915,"results":"38","hashOfConfig":"26"},{"size":71511,"mtime":1615409304338,"results":"39","hashOfConfig":"26"},{"size":1870,"mtime":1615409287882,"results":"40","hashOfConfig":"26"},{"size":1993,"mtime":1615409261491,"results":"41","hashOfConfig":"26"},{"size":2003,"mtime":1615409276595,"results":"42","hashOfConfig":"26"},{"size":766,"mtime":1615409268852,"results":"43","hashOfConfig":"26"},{"size":5703,"mtime":1615409219931,"results":"44","hashOfConfig":"26"},{"size":13064,"mtime":1615409163571,"results":"45","hashOfConfig":"26"},{"size":18693,"mtime":1615409066747,"results":"46","hashOfConfig":"26"},{"size":4583,"mtime":1615409173571,"results":"47","hashOfConfig":"26"},{"size":8892,"mtime":1615409150827,"results":"48","hashOfConfig":"26"},{"size":4140,"mtime":1615409189843,"results":"49","hashOfConfig":"26"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},"1ys5fxl",{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"97","usedDeprecatedRules":"52"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},"C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\index.js",[],["100","101"],"C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\App.js",[],"C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\reportWebVitals.js",[],"C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\Navbar.js",[],"C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\AuthorityContext.js",[],"C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\View.js",[],"C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\Home.js",[],"C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\Profil.js",[],"C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\Editor.js",[],"C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\Login.js",[],"C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\Error403.js",[],"C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\Register.js",[],"C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\ConfirmPanel.js",[],"C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\svg icons\\BootstrapIcon.js",[],"C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\views\\UserView.js",[],"C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\views\\AdminView.js",[],"C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\views\\SuperAdminView.js",[],"C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\views\\GuestView.js",[],"C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\Users.js",[],"C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\Postavke.js",[],"C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\Inbox.js",[],"C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\Posts.js",[],"C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\Post.js",["102"],"import { useState, useEffect, useContext } from 'react';\r\nimport Axios from 'axios';\r\nimport { Image } from 'cloudinary-react';\r\nimport { AuthorityContext } from './AuthorityContext';\r\nimport PROFILEICON from '../images/profile-icon.png';\r\nimport BootstrapIcon from '../svg icons/BootstrapIcon';\r\n\r\nconst Post = (props) => {\r\n    // eslint-disable-next-line\r\n    const [userList, setUserList, currentUser, setCurrentUser, url] = useContext(AuthorityContext);\r\n    Axios.defaults.withCredentials = true;\r\n\r\n    const [post, setPost] = useState();\r\n    const [profileImage, setProfileImage] = useState();\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [likeStatus, setLikeStatus] = useState('');\r\n    const [chatSelected, setChatSelected] = useState(false);\r\n    const [numLikes, setNumLikes] = useState(0);\r\n    const [numDislikes, setNumDislikes] = useState(0);\r\n    const [numComments, setNumComments] = useState(0);\r\n    let mounted = false;\r\n    const loadPost = () => {\r\n        if (currentUser.loggedIn) {\r\n            Axios.get(url + '/posts/' + props.match.params.id).then((response) => {\r\n                var post = JSON.parse(JSON.stringify(response.data[0]));\r\n                Axios.get(url + '/profile_images/' + post.poster_id).then((response) => {\r\n                    if (mounted) {\r\n                        if (response.data.length) setProfileImage(response.data[0]);\r\n                        setPost(post);\r\n                        setIsLoading(false);\r\n                    }\r\n\r\n\r\n                });\r\n            });\r\n            Axios.get(url + '/post/likes/' + props.match.params.id).then((response) => {\r\n                if (mounted) {\r\n                    setNumLikes(response.data.length);\r\n                    for (let i = 0; i < response.data.length; i++) {\r\n                        if (response.data[i].user_id === currentUser.id) {\r\n                            setLikeStatus('like');\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                }\r\n            });\r\n            Axios.get(url + '/post/dislikes/' + props.match.params.id).then((response) => {\r\n                if (mounted) {\r\n                    setNumDislikes(response.data.length);\r\n                    for (let i = 0; i < response.data.length; i++) {\r\n                        if (response.data[i].user_id === currentUser.id) {\r\n                            setLikeStatus('dislike');\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    };\r\n    useEffect(() => {\r\n        // eslint-disable-next-line\r\n        mounted = true;\r\n        loadPost();\r\n        return () => mounted = false;\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [currentUser]);\r\n\r\n    function updateLikes(likeStatus, newStatus) {\r\n        if (currentUser.loggedIn) {\r\n            if (newStatus === 'like') {\r\n                setNumLikes((prevState) => (likeStatus === 'like' ? prevState : prevState + 1));\r\n                setNumDislikes((prevState) => (likeStatus === 'dislike' ? prevState - 1 : prevState));\r\n            }\r\n            else if (newStatus === 'dislike') {\r\n                setNumLikes((prevState) => (likeStatus === 'like' ? prevState - 1 : prevState));\r\n                setNumDislikes((prevState) => (likeStatus === 'dislike' ? prevState : prevState + 1));\r\n            }\r\n            else {\r\n                setNumLikes((prevState) => (likeStatus === 'like' ? prevState - 1 : prevState));\r\n                setNumDislikes((prevState) => (likeStatus === 'dislike' ? prevState - 1 : prevState));\r\n            }\r\n            Axios.post(url + '/post/like/' + post.id,\r\n                {\r\n                    userID: currentUser.id,\r\n                    type: newStatus\r\n                }).then((response) => {\r\n                    console.log(response.data);\r\n                    Axios.get(url + '/post/likes/' + post.id).then((response) => {\r\n                        if (mounted) {\r\n                            setNumLikes(response.data.length);\r\n                        }\r\n                    });\r\n                })\r\n        }\r\n    }\r\n\r\n    return (\r\n\r\n        <div className=\"container\">\r\n\r\n            <div className=\"row\">\r\n\r\n                <div className=\"col-sm-12 blog-main\">\r\n\r\n                    <div className=\"blog-post PostLarge\">\r\n                        {isLoading ?\r\n                            <div className=\"lds-spinner\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>\r\n                            : (post && post.view === 'public') ?\r\n                                <div className=\"postLargeContainer\">\r\n                                    <div className=\"postHeader\">\r\n                                        <p className=\"timestamp\">{post.date.substr(8, 2) + '/' + post.date.substr(5, 2) + '/' + post.date.substr(0, 4)} {post.time}<br />[{post.view}]</p>\r\n                                        <div className=\"postProfile\" onClick={() => { props.history.push('/profil/' + post.poster_id); }}>\r\n                                            <div className=\"profile-border postProfileBorder\">\r\n                                                {profileImage ?\r\n                                                    <Image\r\n                                                        cloudName={'rt-foto-editor'}\r\n                                                        publicId={profileImage.public_id}\r\n                                                        width=\"60\"\r\n                                                        crop=\"scale\"\r\n                                                        className=\"profile-icon\"\r\n                                                    />\r\n                                                    : <img alt=\"\" src={PROFILEICON} className=\"profile-icon\" />\r\n                                                }\r\n                                            </div>\r\n                                            <p className=\"postProfileName\">{post.displayname}</p>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"postPhotoContainer\">\r\n                                        <Image\r\n                                            cloudName={'rt-foto-editor'}\r\n                                            publicId={post.public_id}\r\n                                            width=\"500\"\r\n                                            crop=\"scale\"\r\n                                            className=\"postImage\"\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"postFooter\">\r\n                                        <p className=\"likes\">\r\n                                            <span className=\"display-content\" onClick={() => { updateLikes(likeStatus, likeStatus === 'like' ? '' : 'like'); setLikeStatus(likeStatus === 'like' ? '' : 'like'); }}>\r\n                                                <BootstrapIcon type={likeStatus === 'like' ? 78 : 76} />\r\n                                            </span>\r\n                                            <b className=\"likeNumber\">\r\n                                                {numLikes}\r\n                                            </b>&emsp;&ensp;\r\n                                        <b className=\"dislikeNumber\">\r\n                                                {numDislikes}\r\n                                            </b>\r\n                                            <span className=\"display-content\" onClick={() => { updateLikes(likeStatus, likeStatus === 'dislike' ? '' : 'dislike'); setLikeStatus(likeStatus === 'dislike' ? '' : 'dislike'); }}>\r\n                                                <BootstrapIcon type={likeStatus === 'dislike' ? 79 : 77} />\r\n                                            </span>\r\n                                        &emsp;{numComments}\r\n                                            <span className=\"display-content\" onClick={() => { setChatSelected(!chatSelected) }}>\r\n                                                <BootstrapIcon type={chatSelected ? 81 : 80} />\r\n                                            </span>\r\n                                        </p>\r\n                                    </div>\r\n                                    <div className=\"postDescription\">\r\n                                        <p>{post.description}</p>\r\n                                    </div>\r\n                                </div>\r\n                                : null\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Post;","C:\\Users\\Reza\\Desktop\\Datoteke\\Razvoj Web Aplikacija\\RTFotoEditor HEROKU\\client\\src\\components\\Profil_ID.js",[],{"ruleId":"103","replacedBy":"104"},{"ruleId":"105","replacedBy":"106"},{"ruleId":"107","severity":1,"message":"108","line":20,"column":25,"nodeType":"109","messageId":"110","endLine":20,"endColumn":39},"no-native-reassign",["111"],"no-negated-in-lhs",["112"],"no-unused-vars","'setNumComments' is assigned a value but never used.","Identifier","unusedVar","no-global-assign","no-unsafe-negation"]